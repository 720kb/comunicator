{"version":3,"file":"notifier-angular.min.js","sources":["../src/angular/notifier.js"],"names":["lastTime","vendors","x","length","window","requestAnimationFrame","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","Math","max","id","setTimeout","clearTimeout","angular","module","provider","websocket","deferred","setNotifierServerURL","url","WebSocket","onopen","console","info","this","error","push","send","$get","$window","$rootScope","$log","$q","defer","complainMessage","whoReallyAmI","reallyToken","anEventToListen","unregisterListenerFunction","sendMessage","opcode","data","readyState","OPEN","JSON","stringify","token","apply","onWebsocketMessage","event","parsedMsg","parse","$emit","doJoin","whoami","CLOSED","onmessage","userIsPresent","broadcast","what","toSend","who","sendTo","doClose","close","resolveNotifier","unregisterListener","resolve","exit","eventsToListen","eventsToListenLength","eventsToListenIndex","$on","bind","reject","promise"],"mappings":"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"}