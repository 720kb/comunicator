{"version":3,"file":"notifier-angular.min.js","sources":["../src/angular/notifier.js"],"names":["angular","window","module","provider","websocket","deferred","timeWaitSlice","timeWaitSliceChoices","giveMeATimeWait","Math","floor","random","length","setNotifierServerURL","url","WebSocket","onopen","console","info","this","error","push","send","$get","$window","$rootScope","$timeout","$log","$q","defer","complainMessage","whoReallyAmI","reallyToken","nextTimeWaitSliceChoice","anEventToListen","chosenTimeWaitValue","onTick","redoFunction","requestAnimationFrame","bind","pow","onWebsocketMessage","event","parsedMsg","JSON","parse","data","opcode","$emit","sendMessage","onTickBoundedOnSend","readyState","OPEN","stringify","token","CLOSED","CONNECTING","doJoin","onTickBoundedOnDoJoin","whoami","onmessage","userIsPresent","broadcast","what","toSend","who","sendTo","doClose","close","eventsToListen","unregisterListeners","eventsToListenLength","eventsToListenIndex","resolveNotifier","unregisterListenersIndex","unregisterListenersLength","resolve","exit","$on","reject","promise","lastTime","vendors","x","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","max","id","setTimeout","clearTimeout"],"mappings":"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"}