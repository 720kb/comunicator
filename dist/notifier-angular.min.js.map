{"version":3,"file":"notifier-angular.min.js","sources":["../src/angular/notifier.js"],"names":["angular","window","module","provider","websocket","deferred","timeWaitSlice","timeWaitSliceChoices","giveMeATimeWait","Math","floor","random","length","setNotifierServerURL","url","WebSocket","onopen","console","info","this","error","push","send","$get","$window","$rootScope","$timeout","$log","$q","defer","complainMessage","whoReallyAmI","reallyToken","nextTimeWaitSliceChoice","anEventToListen","chosenTimeWaitValue","onTick","millis","redoFunction","requestAnimationFrame","pow","onWebsocketMessage","event","parsedMsg","JSON","parse","data","opcode","$emit","sendMessage","onTickBoundedOnSend","bind","readyState","OPEN","stringify","token","CLOSED","doJoin","onTickBoundedOnDoJoin","whoami","onmessage","userIsPresent","broadcast","what","toSend","who","sendTo","doClose","close","eventsToListen","unregisterListeners","eventsToListenLength","eventsToListenIndex","resolveNotifier","unregisterListenersIndex","unregisterListenersLength","resolve","exit","$on","reject","promise","lastTime","vendors","x","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","max","id","setTimeout","clearTimeout"],"mappings":"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"}