{"version":3,"file":"notifier-angular.min.js","sources":["../src/angular/notifier.js"],"names":["angular","window","module","provider","websocket","deferred","timeWaitSlice","timeWaitSliceChoices","giveMeATimeWait","Math","floor","random","length","setNotifierServerURL","url","WebSocket","onopen","console","info","this","error","push","send","$get","$window","$rootScope","$timeout","$log","$q","defer","complainMessage","whoReallyAmI","reallyToken","nextTimeWaitSliceChoice","anEventToListen","chosenTimeWaitValue","onTick","redoFunction","requestAnimationFrame","bind","pow","onWebsocketMessage","event","parsedMsg","JSON","parse","data","opcode","$emit","sendMessage","onTickBoundedOnSend","readyState","OPEN","stringify","token","CLOSED","doJoin","onTickBoundedOnDoJoin","whoami","onmessage","userIsPresent","broadcast","what","toSend","who","sendTo","doClose","close","eventsToListen","unregisterListeners","eventsToListenLength","eventsToListenIndex","resolveNotifier","unregisterListenersIndex","unregisterListenersLength","resolve","exit","$on","reject","promise","lastTime","vendors","x","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","max","id","setTimeout","clearTimeout"],"mappings":"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"}