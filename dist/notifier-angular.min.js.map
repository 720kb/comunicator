{"version":3,"file":"notifier-angular.min.js","sources":["../src/angular/notifier.js"],"names":["angular","window","module","provider","websocket","deferred","timeWaitSlice","timeWaitSliceChoices","giveMeATimeWait","Math","floor","random","length","setNotifierServerURL","url","WebSocket","onopen","console","info","this","error","push","send","$get","$window","$rootScope","$timeout","$log","$q","defer","complainMessage","whoReallyAmI","reallyToken","nextTimeWaitSliceChoice","anEventToListen","chosenTimeWaitValue","onTick","redoFunction","requestAnimationFrame","bind","pow","onWebsocketMessage","event","parsedMsg","JSON","parse","data","opcode","$emit","onWebsocketClose","doJoin","sendMessage","onTickBoundedOnSend","readyState","OPEN","stringify","token","onTickBoundedOnDoJoin","whoami","CONNECTING","onmessage","onclose","userIsPresent","broadcast","what","toSend","who","sendTo","doClose","close","eventsToListen","unregisterListeners","eventsToListenLength","eventsToListenIndex","resolveNotifier","unregisterListenersIndex","unregisterListenersLength","resolve","exit","$on","reject","promise","lastTime","vendors","x","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","max","id","setTimeout","clearTimeout"],"mappings":"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"}