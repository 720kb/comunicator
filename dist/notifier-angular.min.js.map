{"version":3,"file":"notifier-angular.min.js","sources":["../src/angular/notifier.js"],"names":["angular","window","module","provider","websocket","deferred","timeWaitSlice","timeWaitSliceChoices","giveMeATimeWait","Math","floor","random","length","setNotifierServerURL","url","WebSocket","onopen","console","info","this","error","push","send","$get","$window","$rootScope","$timeout","$log","$q","defer","complainMessage","whoReallyAmI","reallyToken","nextTimeWaitSliceChoice","anEventToListen","chosenTimeWaitValue","onTick","redoFunction","requestAnimationFrame","bind","pow","onWebsocketMessage","event","parsedMsg","JSON","parse","data","opcode","$emit","onWebsocketClose","doJoin","onWebsocketError","sendMessage","onTickBoundedOnSend","readyState","OPEN","stringify","token","onTickBoundedOnDoJoin","whoami","onmessage","onclose","onerror","userIsPresent","broadcast","what","toSend","who","sendTo","doClose","close","eventsToListen","unregisterListeners","eventsToListenLength","eventsToListenIndex","resolveNotifier","unregisterListenersIndex","unregisterListenersLength","resolve","exit","$on","reject","promise","lastTime","vendors","x","cancelAnimationFrame","callback","currTime","Date","getTime","timeToCall","max","id","setTimeout","clearTimeout"],"mappings":"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"}