{"version":3,"sources":["../src/js/comunicator.js","../src/angular/comunicator.js"],"names":["window","Comunicator","url","onTick","redoFunction","type","requestId","nextTimeWaitSliceChoice","this","chosenTimeWaitValue","websocket","readyState","WebSocket","OPEN","requestAnimationFrame","bind","sendPendingRequests","push","joinPendingRequests","timeWaitSlice","Math","pow","timeWaitSliceChoices","length","giveMeATimeWait","deferred","resolve","userIsPresent","whoami","token","whoReallyAmI","reallyToken","doJoin","console","info","broadcast","what","managed","toSend","who","send","sendTo","doClose","undefined","close","whoAmI","resolveComunicator","removeEventListener","eventToListen","exit","addEventListener","floor","random","joinPendingRequestsLength","aPendingRequest","onTickBoundedOnDoJoin","joinPendingRequestsIndex","JSON","stringify","opcode","cancelAnimationFrame","CONNECTING","initComunicator","sendMessage","onmessage","onWebsocketMessage","onclose","onWebsocketClose","event","eventToDispatch","parsedMsg","parse","data","CustomEvent","detail","dispatchEvent","sendPendingRequestsLength","onTickBoundedOnSend","sendPendingRequestsIndex","websocketUrl","that","onopen","Promise","angular","module","provider","comunicator","setComunicatorServerURL","$get","$rootScope","$window","$log","arrivedJoined","$apply","scope","$emit","debug","arrivedToMe","arrivedToAll","arrivedClosed","$on"],"mappings":"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","file":"comunicator-angular.min.js"}